{"version":3,"sources":["Componentes/Header.jsx","Componentes/footer.jsx","Componentes/Main.jsx","Componentes/Card.jsx","Componentes/Condicional.jsx","Componentes/List/List.js","App.jsx","index.js"],"names":["className","style","background","backgroundSize","href","useStyles","makeStyles","createStyles","divider","width","maxWidth","marginLeft","text","marginBottom","fontSize","Main","Box","p","bgcolor","Card","props","src","img","alt","titulo","autor","resumo","limite","palavras","split","soma","length","novoResumo","i","push","join","limitarResumo","link","condicao","children","List","useState","dados","setDados","pagina","setPagina","totalPaginas","setTotalPaginas","paginaLivro","isCarregando","setIsCarregando","buscarDados","url","config","a","fetch","req","headers","get","json","console","log","message","manipularScroll","window","innerHeight","document","documentElement","scrollTop","offsetHeight","useEffect","addEventListener","removeEventListener","method","map","item","key","id","thumbnail","title","authors","description","Condicional","App","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.9dd282e9.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../Css/Header.css';\r\n\r\nexport default () =>  (\r\n  <header className=\"Header\">\r\n    <div className=\"container-titulo\">\r\n      <h1>Livraria ACME</h1>\r\n    </div>\r\n\r\n    <div style={{background: \"url(./img/bg-intro.png) no-repeat center\", backgroundSize: \"cover\"}} className=\"intro\">\r\n      <p>Encontre o livros que tanto busca com quem melhor entende do assunto</p>\r\n    </div>\r\n  </header>\r\n);\r\n","import React from \"react\";\r\nimport \"../Css/footer.css\";\r\n\r\nexport default () => {\r\n    return (\r\n        <footer>\r\n            <h1>Paginação React - SENAI Suíço Brasileira</h1>\r\n            <ul className=\"container\">\r\n                <li className=\"col-4\"><span>Paulo Henrique</span> <a href=\"https://github.com/henrique1204\"><span>Henrique1204</span></a></li>\r\n                <li className=\"col-4\"><span>Artur Alves</span> <a href=\"https://github.com/Juneor93\"><span>Juneor93</span></a></li>\r\n                <li className=\"col-4\"><span>Nicollas Alves</span> <a href=\"https://github.com/SuperNicolau123\"><span>SuperNicolau123</span></a></li>\r\n                <li className=\"col-4\"><span>Jason Volney</span> <a href=\"https://github.com/JasonVolney\"><span>JasonVolney</span></a></li>\r\n                <li className=\"col-4\"><span>Julia Agatha</span> <a href=\"https://github.com/agatha-juh\"><span>agatha-juh</span></a></li>\r\n                <li className=\"col-4\"><span>Geovanne Sousa</span> <a href=\"https://github.com/Neutro17\"><span>Neutro17</span></a></li>\r\n            </ul>\r\n        </footer>\r\n    )\r\n}\r\n","import React, {Fragment} from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport { createStyles, makeStyles } from '@material-ui/core/styles';\r\n\r\nconst useStyles = makeStyles(() =>\r\n  createStyles({\r\n    divider: {\r\n      width: '100%',\r\n      maxWidth: 920,\r\n      marginLeft: 215,\r\n    },\r\n    text:{\r\n      marginLeft: 215,\r\n      marginBottom: 0,   \r\n      fontSize: 17,   \r\n    }\r\n  }),\r\n);\r\n\r\nfunction Main() {\r\n  // eslint-disable-next-line\r\n  const classes = useStyles();\r\n  return (\r\n    <Fragment>        \r\n        <Box p={2} bgcolor=\"background.paper\">\r\n        </Box>    \r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default Main;\r\n","import React from \"react\";\r\nimport \"../Css/Card.css\";\r\n// import List from \"./Componentes/List/List.js\";\r\n\r\nexport default function Card(props) {\r\n       return(\r\n        <div className=\"Card col-12\">\r\n        <div className=\"img-container col-4\">\r\n           <img src={props.img} alt=\"Ilustração do livro\"/>\r\n        </div>\r\n\r\n        <div className=\"infos-card col-8\">\r\n            <h2>{props.titulo}</h2>\r\n            <span className=\"autor\">{props.autor}</span>\r\n            <p>{limitarResumo(props.resumo, 300)}</p>\r\n            <a href={props.link}>Ver mais</a>\r\n        </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nfunction limitarResumo(resumo, limite) {\r\n        const palavras = resumo.split(\" \");\r\n\r\n        let soma = palavras.length;\r\n        const novoResumo = [];\r\n\r\n        for(let i = 0; i < palavras.length; i++) {\r\n            soma += palavras[i].length;\r\n\r\n            if (soma <= limite) {\r\n                novoResumo.push(palavras[i]);\r\n            }\r\n        }\r\n\r\n        return `${novoResumo.join(\" \")}...`;\r\n}\r\n","export default (props) => {\r\n    if (props.condicao){\r\n        return props.children;\r\n    }\r\n    else{\r\n        return \"\";\r\n    }\r\n}","import React, { useState, useEffect } from 'react';\r\nimport Card from \"../Card.jsx\";\r\nimport Condicional from \"../Condicional.jsx\";\r\nimport \"../../Css/Main.css\";\r\n\r\nexport default function List() {\r\n  const [dados, setDados] = useState([]);\r\n  const [pagina, setPagina] = useState(1);\r\n  const [totalPaginas, setTotalPaginas] = useState(2);\r\n  // eslint-disable-next-line\r\n  const [paginaLivro, setPaginaLivro] = useState(3);\r\n  const [isCarregando, setIsCarregando] = useState(true);\r\n\r\n  const buscarDados = async (url, config) => {\r\n    try {\r\n      const req = await fetch(url, config);\r\n      setTotalPaginas(req.headers.get(\"X-Total-Count\") / paginaLivro);\r\n      const json = await req.json();\r\n\r\n      setDados([ ...dados,...json]);\r\n      setIsCarregando(false);\r\n    } catch (e) {\r\n      console.log(e.message);\r\n    }\r\n  }\r\n\r\n  const manipularScroll = () => {\r\n    const altura = window.innerHeight + document.documentElement.scrollTop;\r\n    const posicao = document.documentElement.offsetHeight - 70;\r\n    const isPagina = pagina === totalPaginas;\r\n\r\n    if(altura < posicao || isPagina || isCarregando) {\r\n      return;\r\n    }\r\n\r\n    setPagina(pagina + 1);\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"scroll\", manipularScroll);\r\n    return () => window.removeEventListener(\"scroll\", manipularScroll);\r\n  });\r\n\r\n  // eslint-disable-next-line\r\n  useEffect(() => {\r\n    buscarDados(`http://localhost:3001/livros?_page=${pagina}&_limit=${paginaLivro}`, {method: \"GET\"});\r\n  }, [pagina]);\r\n\r\n  return (\r\n    <main className=\"Main container\">\r\n      <h1 className=\"col-12\">Livro</h1>\r\n\r\n      <ul className=\"col-12\">\r\n        {dados.map((item) => (\r\n          <li key={item.id}>\r\n            <Card \r\n            img={item.thumbnail} \r\n            titulo={item.title} \r\n            autor={item.authors} \r\n            resumo={item.description}\r\n            link={item.link}/>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n      \r\n      <Condicional condicao={isCarregando}>\r\n          <div className=\"box-anima\">\r\n              <div className=\"bolinha-anima\"></div>\r\n              <div className=\"bolinha-anima\"></div>\r\n              <div className=\"bolinha-anima\"></div>\r\n          </div>\r\n      </Condicional>\r\n    </main>\r\n  );\r\n}","import React, {Fragment} from 'react';\r\nimport Header from \"./Componentes/Header.jsx\";\r\nimport Box from '@material-ui/core/Box';\r\nimport Footer from \"./Componentes/footer.jsx\";\r\nimport Main from \"./Componentes/Main.jsx\";\r\nimport List from \"./Componentes/List/List.js\";\r\nimport './Css/index.css';\r\n\r\n\r\nfunction App() {\r\n  return (\r\n    <Fragment>\r\n        <Header />\r\n        <Main />\r\n        <List />\r\n        {/*\r\n        * Estrutura de teste\r\n        * Quando o Main for criado é pra jogar os cards pra dentro dele\r\n        * Os valores das propriedades é para serem subtituídos pelos dados da API\r\n        */}\r\n        <div className=\"container centralizar\">\r\n        </div>\r\n        <Box p={2} bgcolor=\"background.paper\">\r\n        </Box>\r\n       <Footer />\r\n    </Fragment>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Css/index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}